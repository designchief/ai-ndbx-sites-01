//sass placeholder, reusable by the different image ratios
%fixed-ratio .c-image__img {
  height: 100%;
  width: 100%;

  @include overlay;
}

.c-image {
  display: block;
  position: relative;
  line-height: 0;
}

.c-image__img {
  display: block;
  //this is required for the JS polyfill to take effect on non-supporting browsers like IE. See image.js
  font-family: "object-fit: cover;";
  height: auto;
  object-fit: cover;
  width: 100%;
}

.c-image--contain {
  .c-image__img {
    //this is required for the JS polyfill to take effect on non-supporting browsers like IE. See image.js
    font-family: "object-fit: contain;";
    object-fit: contain;
  }
}

.c-image--fixed-height {
  .c-image__img {
    height: 100%;
    width: auto;
  }
}

.c-image--center {
    .c-image__img {
      margin: 0px;
    }
    top: 50%;
    transform: translateY(-50%);
}

.c-image__img {
  .c-image--top-left & {
    object-position: top left;
    font-family: "object-fit: cover; object-position: top left;";
  }

  .c-image--top-center & {
    object-position: top center;
    font-family: "object-fit: cover; object-position: top center;";
  }

  .c-image--top-right & {
    object-position: top right;
    font-family: "object-fit: cover; object-position: top right;";
  }

  .c-image--middle-left & {
    object-position: center left;
    font-family: "object-fit: cover; object-position: center left;";
  }

  .c-image--middle-center & {
    object-position: center center;
    font-family: "object-fit: cover; object-position: center center;";
  }

  .c-image--middle-right & {
    object-position: center right;
    font-family: "object-fit: cover; object-position: center right;";
  }

  .c-image--bottom-left & {
    object-position: bottom left;
    font-family: "object-fit: cover; object-position: bottom left;";
  }

  .c-image--bottom-center & {
    object-position: bottom center;
    font-family: "object-fit: cover; object-position: bottom center;";
  }

  .c-image--bottom-right & {
    object-position: bottom right;
    font-family: "object-fit: cover; object-position: bottom right;";
  }
}

.c-image__preloader {
  background-color: map-get($color-grey-tones, grey-tone-6);
  width: 100%;
  height: 100%;
  position: absolute;
}

.c-image--rounded {
  padding-top: 100%;

  .c-image__img {
    border-radius: 50%;
  }

  @extend %fixed-ratio; // sass-lint:disable-line no-extends
}

.c-image--1dot8by1 {
  padding-top: percentage(1/1.8);
  @extend %fixed-ratio; // sass-lint:disable-line no-extends
}

.c-image--1dot2by1 {
  padding-top: percentage(1/1.2);
  @extend %fixed-ratio; // sass-lint:disable-line no-extends
}

.c-image--1by1dot1 {
  padding-top: percentage(1.1/1);
  @extend %fixed-ratio; // sass-lint:disable-line no-extends
}

.c-image--2dot6by1 {
  padding-top: percentage(1/2.6);
  @extend %fixed-ratio; // sass-lint:disable-line no-extends
}

.c-image--1by1dot4 {
  padding-top: percentage(1.4/1);
  @extend %fixed-ratio; // sass-lint:disable-line no-extends
}

@each $breakpoint in map-keys($grid-breakpoints) {

  $infix: breakpoint-infix($breakpoint, $grid-breakpoints);
  @include media-breakpoint-up($breakpoint) {
    .c-image#{$infix} {
      &--1by1-up {
        padding-top: 100%;
        .c-image__img {
          height: 100%;
          position: absolute;
          top: 0;
          left: 0;
        }
      }
    }

    .c-image#{$infix} {
      &--1dot8by1-up {
        padding-top: percentage(1/1.8);
        .c-image__img {
          height: 100%;
          position: absolute;
          top: 0;
          left: 0;
        }
      }
    }

    .c-image#{$infix} {
      &--1dot2by1-up {
        padding-top: percentage(1/1.2);
        .c-image__img {
          height: 100%;
          position: absolute;
          top: 0;
          left: 0;
        }
      }
    }

    .c-image#{$infix} {
      &--1by1dot1-up {
        padding-top: percentage(1.1/1);
        .c-image__img {
          height: 100%;
          position: absolute;
          top: 0;
          left: 0;
        }
      }
    }

    .c-image#{$infix} {
      &--2dot6by1-up {
        padding-top: percentage(1/2.6);
        .c-image__img {
          height: 100%;
          position: absolute;
          top: 0;
          left: 0;
        }
      }
    }
  }

  @include media-breakpoint-down($breakpoint) {
    .c-image#{$infix} {
      &--1by1-down {
        padding-top: 100%;
        .c-image__img {
          height: 100%;
          width: 100%;
          position: absolute;
          top: 0;
          left: 0;
        }
      }
    }

    .c-image#{$infix} {
      &--1dot8by1-down {
        padding-top: percentage(1/1.8);
        .c-image__img {
          height: 100%;
          width: 100%;
          position: absolute;
          top: 0;
          left: 0;
        }
      }
    }

    .c-image#{$infix} {
      &--1dot2by1-down {
        padding-top: percentage(1/1.2);
        .c-image__img {
          height: 100%;
          width: 100%;
          position: absolute;
          top: 0;
          left: 0;
        }
      }
    }


    .c-image#{$infix} {
      &--1by1dot1-down {
        padding-top: percentage(1.1/1);
        .c-image__img {
          height: 100%;
          width: 100%;
          position: absolute;
          top: 0;
          left: 0;
        }
      }
    }

    .c-image#{$infix} {
      &--2dot6by1-down {
        padding-top: percentage(1/2.6);
        .c-image__img {
          height: 100%;
          width: 100%;
          position: absolute;
          top: 0;
          left: 0;
        }
      }
    }
  }
}
